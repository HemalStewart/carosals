{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/purnimauyangoda/carosals/src/app/card-stack-carousel/page.tsx"],"sourcesContent":["// 'use client';\n\n// import { motion, useAnimation, useInView } from \"framer-motion\";\n// import { useEffect, useRef } from \"react\";\n// import { CardStackCarousel } from \"@/components/CardStackCarousel\";\n// import ExpandingPosterCarousel  from \"@/components/ExpandingPosterCarousel\";\n// import { BlackBackgroundCarousel } from \"@/components/BlackBackgroundCarousel\";\n// import { WhiteBackgroundCarousel } from \"@/components/WhiteBackgroundCarousel\";\n// import  TimedCardOpening from \"@/components/TimedCardOpening\";\n// import NetflixCarousel from \"@/components/NetflixCarousel\";\n// import { ExpoSlider } from \"@/components/ExpoSlider\";\n// import  AnimatedCardStack  from \"@/components/AnimatedCardStack\";\n\n// export default function CarouselPage() {\n//   // List of carousel sections\n//   const sections = [\n//     AnimatedCardStack,\n//     // CardStackCarousel,\n//     // ExpandingPosterCarousel,\n//     // BlackBackgroundCarousel,\n//     // WhiteBackgroundCarousel,\n//     // TimedCardOpening,\n//     // NetflixCarousel,\n//     // ExpoSlider,\n    \n//   ];\n\n//   // Create refs and animation controls dynamically\n//   const refs = sections.map(() => useRef(null));\n//   const controls = sections.map(() => useAnimation());\n//   const inViews = refs.map((ref) => useInView(ref, { amount: 0.3, once: false }));\n\n//   useEffect(() => {\n//     inViews.forEach((inView, index) => {\n//       if (inView) {\n//         controls[index].start({\n//           opacity: 1,\n//           y: 0,\n//           transition: { duration: 1.2, type: \"spring\", stiffness: 80, damping: 20 },\n//         });\n//       } else {\n//         controls[index].start({ opacity: 0, y: 30 });\n//       }\n//     });\n//   }, [inViews, controls]);\n\n//   return (\n//     <div className=\"h-screen w-full overflow-y-scroll snap-y snap-mandatory\">\n//       {sections.map((SectionComponent, i) => (\n//         <motion.section\n//           key={i}\n//           ref={refs[i]}\n//           className=\"h-screen snap-start\"\n//           initial={{ opacity: 0, y: 30 }}\n//           animate={controls[i]}\n//         >\n//           <SectionComponent />\n//         </motion.section>\n//       ))}\n//     </div>\n//   );\n// }\n\n\n'use client';\n\nimport { motion, useAnimation, useInView } from \"framer-motion\";\nimport { useEffect, useRef, useState } from \"react\";\nimport CardStackCollection from \"@/components/CardStackCollection\";\n\nexport default function CarouselPage() {\n  // Specify the type for the useRef hook\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [scrollTop, setScrollTop] = useState(0);\n\n  const sections = [\n    CardStackCollection,\n    // Other carousel components\n  ];\n\n  const refs = sections.map(() => useRef<HTMLElement>(null));\n  const controls = sections.map(() => useAnimation());\n  const inViews = refs.map((ref) => useInView(ref, { amount: 0.3, once: false }));\n\n  useEffect(() => {\n    inViews.forEach((inView, index) => {\n      if (inView) {\n        controls[index].start({\n          opacity: 1,\n          y: 0,\n          transition: { duration: 1.2, type: \"spring\", stiffness: 80, damping: 20 },\n        });\n      } else {\n        controls[index].start({ opacity: 0, y: 30 });\n      }\n    });\n  }, [inViews, controls]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      // Check if containerRef.current is not null before accessing its properties\n      if (containerRef.current) {\n        setScrollTop(containerRef.current.scrollTop);\n      }\n    };\n\n    const container = containerRef.current;\n    if (container) {\n      container.addEventListener('scroll', handleScroll);\n    }\n\n    return () => {\n      if (container) {\n        container.removeEventListener('scroll', handleScroll);\n      }\n    };\n  }, []);\n\n  return (\n    <div \n      className=\"h-screen w-full overflow-y-scroll snap-y snap-mandatory\" \n      ref={containerRef}\n    >\n      {sections.map((SectionComponent, i) => (\n        <motion.section\n          key={i}\n          ref={refs[i]}\n          className=\"h-screen snap-start\"\n          initial={{ opacity: 0, y: 30 }}\n          animate={controls[i]}\n        >\n          <SectionComponent \n            scrollTop={scrollTop}\n            scrollHeight={containerRef.current?.scrollHeight || 0}\n            clientHeight={containerRef.current?.clientHeight || 0}\n          />\n        </motion.section>\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}